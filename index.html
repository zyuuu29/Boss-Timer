<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Boss Spawn Timers</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #321414;
    color: #f0f0f0;
    text-align: center;
    padding: 20px;
  }

  h1 {
  font-family: 'Arial Black', sans-serif;
  font-size: 3em;
  color: #f4f4f4;
  text-shadow: 0 0 3px #ff2020, 0 0 5px #ff4040, 0 0 10px #ff0000, 0 0 15px #ff0000;
  margin-bottom: 30px;
}

  #boss-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
    justify-items: center;
  }

  .boss {
    position: relative;
    width: 200px;
    color: #fff;
    text-shadow: 1px 1px 2px #000;
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 0 10px rgba(255,0,0,0.3);
    transition: all 0.3s ease;
    background-repeat: no-repeat;
    background-position: right center;
    background-size: 40% 100%;
    background-image: linear-gradient(to right, #222 0%, rgba(34,34,34,0) 60%), url('');
    overflow: hidden;
  }

  .boss::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    border-radius: 10px;
    background: rgba(50, 50, 50, 0.4);
    pointer-events: none;
    z-index: 1;
  }

  .boss h2,
  .boss .timer,
  .boss .nextspawn,
  .boss .soonest-label {
    position: relative;
    z-index: 2;
  }

  .boss h2 { margin: 0; color: #ff8888; }
  .timer { font-size: 1.5em; margin: 8px 0; }
  .nextspawn { font-size: 0.9em; color: #aaa; margin-bottom: 8px; }

  .highlight {
    border: 2px solid #ffcc44;
    box-shadow: 0 0 20px rgba(255, 204, 68, 0.9);
    transform: scale(1.05);
  }

  .soonest-label {
    position: absolute;
    top: 5px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 204, 68, 0.9);
    color: #111;
    padding: 3px 8px;
    border-radius: 5px;
    font-size: 0.9em;
    font-weight: bold;
    z-index: 2;
    display: none;
  }
</style>
</head>
<body>
<h1>Boss Spawn Timer for "QPALPH"</h1>
<div id="boss-container"></div>

<script>
const bosses = [
  {name: "Viorent", type: "interval", hours: 10, next: new Date("2025-10-17T06:51:00")},
  {name: "Venatus", type: "interval", hours: 10, next: new Date("2025-10-17T06:52:00")},
  {name: "Ego", type: "interval", hours: 21, next: new Date("2025-10-15T20:49:00")},
  {name: "Clemantis", type: "fixed", schedule: [{day:1,hour:11,minute:30},{day:4,hour:19,minute:0}]},
  {name: "Livera", type: "interval", hours: 24, next: new Date("2025-10-17T14:40:00")},
  {name: "Araneo", type: "interval", hours: 24, next: new Date("2025-10-17T14:45:00")},
  {name: "Undomiel", type: "interval", hours: 24, next: new Date("2025-10-17T14:49:00")},
  {name: "Saphirus", type: "fixed", schedule: [{day:0,hour:17,minute:0},{day:2,hour:11,minute:30}]},
  {name: "Neutro", type: "fixed", schedule: [{day:2,hour:19,minute:0},{day:4,hour:11,minute:30}]},
  {name: "Lady Dalia", type: "interval", hours: 18, next: new Date("2025-10-17T08:59:00")},
  {name: "General Aquleus", type: "interval", hours: 29, next: new Date("2025-10-17T20:56:00")},
  {name: "Thymele", type: "fixed", schedule: [{day:1,hour:19,minute:0},{day:3,hour:11,minute:30}]},
  {name: "Amentis", type: "interval", hours: 29, next: new Date("2025-10-17T20:59:00")},
  {name: "Baron Braudmore", type: "interval", hours: 32, next: new Date("2025-10-17T07:01:00")},
  {name: "Milavy", type: "fixed", schedule: [{day:6,hour:15,minute:0}]},
  {name: "Wannitas", type: "interval", hours: 48, next: new Date("2025-10-18T15:05:00")},
  {name: "Metus", type: "interval", hours: 48, next: new Date("2025-10-18T15:09:00")},
  {name: "Duplican", type: "interval", hours: 48, next: new Date("2025-10-18T15:12:00")},
  {name: "Shuliar", type: "interval", hours: 35, next: new Date("2025-10-17T22:18:00")},
  {name: "Ringor", type: "fixed", schedule: [{day:6,hour:17,minute:0}]},
  {name: "Roderick", type: "fixed", schedule: [{day:5,hour:19,minute:0}]},
  {name: "Gareth", type: "interval", hours: 32, next: new Date("2025-10-17T07:31:00")},
  {name: "Titore", type: "interval", hours: 37, next: new Date("2025-10-16T23:43:00")},
  {name: "Ratan", type: "daily", schedule: [{hour:11,minute:0},{hour:20,minute:0}]},
  {name: "Parto", type: "daily", schedule: [{hour:11,minute:0},{hour:20,minute:0}]},
  {name: "Nedra", type: "daily", schedule: [{hour:11,minute:0},{hour:20,minute:0}]},
  {name: "Larba", type: "interval", hours: 35, next: new Date("2025-10-17T22:28:00")},
  {name: "Auraq", type: "fixed", schedule: [{day:3,hour:21,minute:00},{day:5,hour:22,minute:0}]},
];

const container = document.getElementById("boss-container");
const imagePath = "Image/";
const imageExtension = ".jfif";

function formatTime(ms) {
  if(ms<0) ms=0;
  let h=Math.floor(ms/3600000);
  let m=Math.floor((ms%3600000)/60000);
  let s=Math.floor((ms%60000)/1000);
  return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
}

function formatDate(date){
  let h=date.getHours();
  let m=date.getMinutes();
  let ampm=h>=12?"PM":"AM";
  h=(h%12)||12;
  return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')} ${ampm} ${date.toDateString()}`;
}

function getNextFixedSpawn(schedule){
  let now=new Date(),next=null;
  for(let s of schedule){
    let d=new Date();
    d.setHours(s.hour,s.minute||0,0,0);
    d.setDate(d.getDate() + ((s.day - d.getDay() +7)%7));
    if(d<=now) d.setDate(d.getDate()+7);
    if(!next || d<next) next=d;
  }
  return next;
}

function getNextDailySpawn(schedule){
  let now=new Date(),next=null;
  for(let s of schedule){
    let d=new Date();
    d.setHours(s.hour,s.minute||0,0,0);
    if(d<=now) d.setDate(d.getDate()+1);
    if(!next || d<next) next=d;
  }
  return next;
}

function imageExists(url, callback){
  const img=new Image();
  img.onload=()=>callback(true);
  img.onerror=()=>callback(false);
  img.src=url;
}

function createBossCards(){
  bosses.forEach(boss=>{
    const div=document.createElement("div");
    div.className="boss";
    div.id="card-"+boss.name;
    div.innerHTML=`
      <div class="soonest-label">Soonest Spawn</div>
      <h2>${boss.name}</h2>
      <div id="timer-${boss.name}" class="timer">--:--:--</div>
      <div id="next-${boss.name}" class="nextspawn">Next spawn: calculating...</div>
    `;
    container.appendChild(div);

    const fileName=boss.name.toLowerCase().replace(/\s+/g,"-");
    const imageUrl=`${imagePath}${fileName}${imageExtension}`;
    const fallbackUrl=`${imagePath}default${imageExtension}`;
    imageExists(imageUrl,exists=>{
      div.style.backgroundImage=`linear-gradient(to right,#222 0%,rgba(34,34,34,0) 60%),url('${exists?imageUrl:fallbackUrl}')`;
    });
  });
}

function updateBosses(){
  const now=new Date();

  // Update next spawn for each boss
  bosses.forEach(boss=>{
    if(boss.type==="interval"){
      if(!boss.next) boss.next=new Date(now.getTime()+boss.hours*3600000);
      while(boss.next<=now) boss.next=new Date(boss.next.getTime()+boss.hours*3600000);
    } else if(boss.type==="fixed") boss.next=getNextFixedSpawn(boss.schedule);
    else if(boss.type==="daily") boss.next=getNextDailySpawn(boss.schedule);

    document.getElementById("timer-"+boss.name).textContent=formatTime(boss.next-now);
    document.getElementById("next-"+boss.name).textContent="Next spawn: "+formatDate(boss.next);
  });

  // Sort and highlight
  const sorted=bosses.slice().sort((a,b)=>a.next-b.next);
  sorted.forEach((boss,index)=>{
    const card=document.getElementById("card-"+boss.name);
    const label=card.querySelector(".soonest-label");
    if(index===0){
      card.classList.add("highlight");
      label.style.display="block";
    } else {
      card.classList.remove("highlight");
      label.style.display="none";
    }
    container.appendChild(card); // move in order
  });
}

// Initial setup
document.addEventListener("DOMContentLoaded",()=>{
  createBossCards();
  updateBosses();
  setInterval(updateBosses,1000);
});
</script>
</body>
</html>


























